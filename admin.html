<!DOCTYPE html>
<html>
<head>
  <title>Admin - Vota√ß√£o</title>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
  <script src="scripts.js" defer></script>
<style>
  body {
    font-family: sans-serif;
    background: #111;
    color: #fff;
    padding: 2rem;
    display: flex;
    justify-content: center;
  }

  #painel {
    max-width: 600px;
    width: 100%;
    display: none;
  }

  label, input, button {
    display: block;
    margin: 1rem auto;
    width: 100%;
    max-width: 400px;
  }

  #login {
    text-align: center;
    width: 100%;
    max-width: 400px;
  }

  h1, h2 {
    text-align: center;
  }

  #output {
    margin-top: 2rem;
    text-align: center;
  }

  button {
    padding: 10px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background-color: #fff;
    color: #000;
    font-weight: bold;
  }
</style>

</head>

<body>
  <div id="login">
    <h2>Autentica√ß√£o</h2>
    <input type="password" id="senha" placeholder="Password">
    <button onclick="verificarSenha()">Entrar</button>
    <p id="erro" style="color: red;"></p>
  </div>

  <div id="painel">
    <h1>Painel de Administra√ß√£o</h1>
    <label>Nome da Vota√ß√£o: <input type="text" id="votacaoId"></label>
    <label>Op√ß√£o 1: <input type="text" id="musica1"></label>
    <label>Op√ß√£o 2: <input type="text" id="musica2"></label>
    <label>Pergunta: <input type="text" id="textoInfo"></label>
    <label>Imagem (URL): <input type="text" id="imagemURL"></label>
    <label>Dura√ß√£o da vota√ß√£o (segundos): <input type="number" id="duracao" value="120"></label>
    <button onclick="gerarQRCodes()">Gerar QR Codes</button>
    <button onclick="limparVotacao()">‚ùå Limpar Vota√ß√£o</button>
    <button onclick="abrirResultados()">‚ñ∂ Ver Resultados ao Vivo</button>
    <div id="contadorVotos" style="margin-top: 2rem; font-weight: bold; color: #0f0;"></div>
    <div id="output"></div>
  </div>

  <div id="pedidosMusicas" style="margin-top:3rem;">
  <h2>üéµ Pedidos de M√∫sicas ao Vivo:</h2>
  <ul id="listaPedidos"></ul>
</div>


<script>
  const PASSWORD = "qrcode2024"; // muda aqui se quiseres

  function verificarSenha() {
    const senha = document.getElementById("senha").value;
    if (senha === PASSWORD) {
      document.getElementById("login").style.display = "none";
      document.getElementById("painel").style.display = "block";

      // ‚úÖ Agora sim, ativa os pedidos s√≥ ap√≥s o login correto!
      mostrarPedidosAoVivo();

    } else {
      document.getElementById("erro").innerText = "Password incorreta.";
    }
  }
</script>

</body>
</html>
